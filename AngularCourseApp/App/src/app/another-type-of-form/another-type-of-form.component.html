<div class="container">
  <h1>Reactive forms</h1>
  <form (ngSubmit)="onSubmit()" [formGroup]="carForm">
    <div class="form-group">
      <label for="model">Car model</label>
      <input id="model" formControlName="model" class="form-control" type="text" >
      <div>
        <p>Model name requierd</p>
      </div>
    </div>
    <div class="form-group">
        <label for="vin">Car vin</label>
        <input id="vin" formControlName="vin" class="form-control" type="text">
        <div *ngIf="carForm.controls.vin.errors && !carForm.controls.vin.pristine">
            <div *ngIf="carForm.controls.vin.errors.minlength || carForm.controls.vin.errors.maxlength">
              <p>Vin must have 17 chars</p>
            </div>
            <div *ngIf="carForm.controls.vin.errors.required">
              <p>Vin requierd</p>
            </div>
        </div>        
      </div>
      
      <div class="form-group">
        <label for="engine">Car year</label>
        <select class="form-control" formControlName="engine" type="text">
          <option *ngFor="let engine of engines">{{engine}}</option>
        </select>
        <div *ngIf="carForm.controls.engine.errors && !carForm.controls.engine.pristine">          
          <div *ngIf="carForm.controls.engine.errors.required">
            <p>Please select an engine</p>
          </div>
      </div>
      </div>
      <div class="form-group">
          <label for="year">Car year</label>
          <input id="year" formControlName="year" class="form-control" type="number" >
          <div>
            <p>Year name requierd</p>
          </div>
        </div>
        <div class="form-check">
            <input id="forSale" formControlName="forSale" class="form-check-input" type="checkbox" >
            <label for="forSale">Is this car for sale?</label>
          </div>
    
    <button type="submit" class="btn btn-primary" [disabled]="!carForm.valid">Save</button>
    <button class="btn btn-primary" [disabled]="!carForm.dirty" (click)="resetForm()">Reset</button>
  </form>
</div>
